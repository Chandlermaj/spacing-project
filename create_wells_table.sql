CREATE TABLE wells (
  id BIGSERIAL PRIMARY KEY,
  "API_UWI" TEXT,
  "Unformatted_API_UWI" TEXT,
  "API_UWI_12" TEXT,
  "Unformatted_API_UWI_12" TEXT,
  "API_UWI_14" TEXT,
  "Unformatted_API_UWI_14" TEXT,
  "WellID" TEXT,
  "CompletionID" TEXT,
  "WellPadID" TEXT,
  "WellPadDirection" TEXT,
  "ENVWellGrouping" TEXT,
  "CompletionNumber" TEXT,
  "WellName" TEXT,
  "Country" TEXT,
  "StateProvince" TEXT,
  "County" TEXT,
  "Lease" TEXT,
  "LeaseName" TEXT,
  "ENVOperator" TEXT,
  "RawOperator" TEXT,
  "InitialOperator" TEXT,
  "ENVTicker" TEXT,
  "ENV_Peer_Group" TEXT,
  "ENVCompanyType" TEXT,
  "ENV_Stock_Exchange" TEXT,
  "ENVWellServiceProvider" TEXT,
  "ENVProdWellType" TEXT,
  "StateWellType" TEXT,
  "ENVWellType" TEXT,
  "ENVProducingMethod" TEXT,
  "ENVRegion" TEXT,
  "ENVBasin" TEXT,
  "ENVPlay" TEXT,
  "ENVSubPlay" TEXT,
  "ENVInterval" TEXT,
  "ENVIntervalSource" TEXT,
  "ENVWellStatus" TEXT,
  "ENVWellboreStatus" TEXT,
  "OnConfidential" TEXT,
  "OffConfidentialDate" TEXT,
  "Trajectory" TEXT,
  "ENVWellboreType" TEXT,
  "Formation" TEXT,
  "FirstProdDate" TEXT,
  "Latitude" TEXT,
  "Longitude" TEXT,
  "Latitude_BH" TEXT,
  "Longitude_BH" TEXT,
  "TVD_FT" TEXT,
  "MD_FT" TEXT,
  "District" TEXT,
  "Field" TEXT,
  "Survey" TEXT,
  "Block" TEXT,
  "Abstract" TEXT,
  "Platform" TEXT,
  "Section" TEXT,
  "Township" TEXT,
  "Range" TEXT,
  "Section_Township_Range" TEXT,
  "Unit_Name" TEXT,
  "WellNumber" TEXT,
  "SurfaceLatitudeLongitudeSource" TEXT,
  "PlugDate" TEXT,
  "PlugbackMeasuredDepth_FT" TEXT,
  "PlugbackTrueVerticalDepth_FT" TEXT,
  "AvgBreakdownPressure_PSI" TEXT,
  "AvgClusterSpacingPerStage_FT" TEXT,
  "AvgClusterSpacing_FT" TEXT,
  "AvgFracGradient_PSIPerFT" TEXT,
  "AvgISIP_PSI" TEXT,
  "AvgMillTime_Min" TEXT,
  "AvgPortSleeveOpeningPressure_PSI" TEXT,
  "AvgShotsPerCluster" TEXT,
  "AvgShotsPerFt" TEXT,
  "AvgTreatmentPressure_PSI" TEXT,
  "AvgTreatmentRate_BBLPerMin" TEXT,
  "ClustersPer1,000Ft" TEXT,
  "ClustersPerStage" TEXT,
  "ShotsPer1,000Ft" TEXT,
  "ShotsPerStage" TEXT,
  "TotalShots" TEXT,
  "AvgFluidPerCluster_BBL" TEXT,
  "AvgFluidPerShot_BBL" TEXT,
  "AvgFluidPerStage_BBL" TEXT,
  "FracRigOnsiteDate" TEXT,
  "FracRigReleaseDate" TEXT,
  "AvgProppantPerCluster_LBS" TEXT,
  "AvgProppantPerShot_LBS" TEXT,
  "AvgProppantPerStage_LBS" TEXT,
  "StimulatedStages" TEXT,
  "TotalClusters" TEXT,
  "Vintage" TEXT,
  "FirstProdQuarter" TEXT,
  "FirstProdMonth" TEXT,
  "ENVElevationKB_FT" TEXT,
  "ENVElevationKBSource" TEXT,
  "ENVElevationGL_FT" TEXT,
  "ENVElevationGLSource" TEXT,
  "ElevationKB_FT" TEXT,
  "ElevationGL_FT" TEXT,
  "CoordinateSource" TEXT,
  "PermitApprovedDate" TEXT,
  "PermitSubmittedDate" TEXT,
  "SpudDate" TEXT,
  "DrillingEndDate" TEXT,
  "RigReleaseDate" TEXT,
  "CompletionDate" TEXT,
  "FirstRigDay" TEXT,
  "ENVCompInsertedDate" TEXT,
  "StateFileNumber" TEXT,
  "ENVFracJobType" TEXT,
  "ENVFluidType" TEXT,
  "CompletionTime_DAYS" TEXT,
  "CompletionDesign" TEXT,
  "PermitToSpud_DAYS" TEXT,
  "SpudToRigRelease_DAYS" TEXT,
  "SpudToCompletion_DAYS" TEXT,
  "SpudToSales_DAYS" TEXT,
  "SoakTime_DAYS" TEXT,
  "NumberOfStrings" TEXT,
  "UpperPerf_FT" TEXT,
  "LowerPerf_FT" TEXT,
  "PerfInterval_FT" TEXT,
  "LateralLength_FT" TEXT,
  "FracStages" TEXT,
  "AverageStageSpacing_FT" TEXT,
  "ENVProppantBrand" TEXT,
  "ProppantLoading_LBSPerGAL" TEXT,
  "ENVProppantType" TEXT,
  "ProppantIntensity_LBSPerFT" TEXT,
  "Proppant_LBS" TEXT,
  "TotalWaterPumped_GAL" TEXT,
  "WaterIntensity_GALPerFT" TEXT,
  "TotalFluidPumped_BBL" TEXT,
  "FluidIntensity_BBLPerFT" TEXT,
  "AcidVolume_BBL" TEXT,
  "Bottom_Hole_Temp_DEGF" TEXT,
  "Biocide_LBS" TEXT,
  "Breaker_LBS" TEXT,
  "Buffer_LBS" TEXT,
  "ClayControl_LBS" TEXT,
  "CrossLinker_LBS" TEXT,
  "FrictionReducer_LBS" TEXT,
  "GellingAgent_LBS" TEXT,
  "IronControl_LBS" TEXT,
  "ScaleInhibitor_LBS" TEXT,
  "Surfactant_LBS" TEXT,
  "Energizer_LBS" TEXT,
  "Diverter_LBS" TEXT,
  "TestDate" TEXT,
  "ChokeSize_64IN" TEXT,
  "TestRate_BOEPerDAY" TEXT,
  "TestRate_BOEPerDAYPer1000FT" TEXT,
  "TestRate_MCFEPerDAY" TEXT,
  "OilTestRate_BBLPerDAY" TEXT,
  "OilTestRate_BBLPerDAYPer1000FT" TEXT,
  "GasTestRate_MCFPerDAY" TEXT,
  "GasTestRate_MCFPerDAYPer1000FT" TEXT,
  "WaterTestRate_BBLPerDAY" TEXT,
  "WaterTestRate_BBLPerDAYPer1000Ft" TEXT,
  "WaterDepth" TEXT,
  "TestWHLiquids_PCT" TEXT,
  "CasingPressure_PSI" TEXT,
  "FlowingTubingPressure_PSI" TEXT,
  "ShutInPressure_PSI" TEXT,
  "OilProdPriorTest_BBL" TEXT,
  "OilTestMethodName" TEXT,
  "OilGravity_API" TEXT,
  "GasGravity_SG" TEXT,
  "First3MonthProd_BOE" TEXT,
  "First3MonthProd_BOEPer1000FT" TEXT,
  "First3MonthGas_MCF" TEXT,
  "First3MonthGas_MCFPer1000FT" TEXT,
  "First3MonthProd_MCFE" TEXT,
  "First3MonthProd_MCFEPer1000FT" TEXT,
  "First3MonthOil_BBL" TEXT,
  "First3MonthOil_BBLPer1000FT" TEXT,
  "First3MonthWater_BBL" TEXT,
  "First6MonthProd_BOE" TEXT,
  "First6MonthProd_BOEPer1000FT" TEXT,
  "First6MonthGas_MCF" TEXT,
  "First6MonthGas_MCFPer1000FT" TEXT,
  "First6MonthProd_MCFE" TEXT,
  "First6MonthProd_MCFEPer1000FT" TEXT,
  "First6MonthOil_BBL" TEXT,
  "First6MonthOil_BBLPer1000FT" TEXT,
  "First6MonthWater_BBL" TEXT,
  "First9MonthProd_BOE" TEXT,
  "First9MonthProd_BOEPer1000FT" TEXT,
  "First9MonthGas_MCF" TEXT,
  "First9MonthGas_MCFPer1000FT" TEXT,
  "First9MonthProd_MCFE" TEXT,
  "First9MonthProd_MCFEPer1000FT" TEXT,
  "First9MonthOil_BBL" TEXT,
  "First9MonthOil_BBLPer1000FT" TEXT,
  "First9MonthWater_BBL" TEXT,
  "First12MonthProd_BOE" TEXT,
  "First12MonthProd_BOEPer1000FT" TEXT,
  "First12MonthGas_MCF" TEXT,
  "First12MonthGas_MCFPer1000FT" TEXT,
  "First12MonthProd_MCFE" TEXT,
  "First12MonthProd_MCFEPer1000FT" TEXT,
  "First12MonthOil_BBL" TEXT,
  "First12MonthOil_BBLPer1000FT" TEXT,
  "First12MonthWater_BBL" TEXT,
  "First36MonthProd_BOE" TEXT,
  "First36MonthProd_BOEPer1000FT" TEXT,
  "First36MonthGas_MCF" TEXT,
  "First36MonthGas_MCFPer1000FT" TEXT,
  "First36MonthProd_MCFE" TEXT,
  "First36MonthProd_MCFEPer1000FT" TEXT,
  "First36MonthOil_BBL" TEXT,
  "First36MonthOil_BBLPer1000FT" TEXT,
  "First36MonthWater_BBL" TEXT,
  "First36MonthWaterProductionBBLPer1000Ft" TEXT,
  "PeakProductionDate" TEXT,
  "MonthsToPeakProduction" TEXT,
  "PeakProd_BOE" TEXT,
  "PeakProd_BOEPer1000FT" TEXT,
  "PeakGas_MCF" TEXT,
  "PeakGas_MCFPer1000FT" TEXT,
  "PeakProd_MCFE" TEXT,
  "PeakProd_MCFEPer1000FT" TEXT,
  "PeakOil_BBL" TEXT,
  "PeakOil_BBLPer1000FT" TEXT,
  "PeakWater_BBL" TEXT,
  "CumProd_BOE" TEXT,
  "CumProd_BOEPer1000FT" TEXT,
  "CumGas_MCF" TEXT,
  "CumGas_MCFPer1000FT" TEXT,
  "CumProd_MCFE" TEXT,
  "CumProd_MCFEPer1000FT" TEXT,
  "CumOil_BBL" TEXT,
  "CumOil_BBLPer1000FT" TEXT,
  "CumWater_BBL" TEXT,
  "TotalProducingMonths" TEXT,
  "LastProdDate" TEXT,
  "LastMonthLiquidsProduction_BBL" TEXT,
  "LastMonthGasProduction_MCF" TEXT,
  "LastMonthWaterProduction_BBL" TEXT,
  "Last12MonthBOEProduction" TEXT,
  "Last12MonthGasProduction_MCF" TEXT,
  "Last12MonthOilProduction_BBL" TEXT,
  "Last12MonthWaterProduction_BBL" TEXT,
  "WHLiquids_PCT" TEXT,
  "GOR_ScfPerBbl" TEXT,
  "FirstInjDate" TEXT,
  "LastInjDate" TEXT,
  "CumWaterInj_BBL" TEXT,
  "CumSteamInj_BBL" TEXT,
  "CumGasInj_MCF" TEXT,
  "CumSolventInj_BBL" TEXT,
  "CumOtherInj_BBL" TEXT,
  "CumOtherInj_MCF" TEXT,
  "CumulativeSOR" TEXT,
  "Last3MonthISOR" TEXT,
  "InjectorWellClass" TEXT,
  "ENVEffectiveLateralLength" TEXT,
  "ENVEffectiveLateralLengthSource" TEXT,
  "NumberOfWellbores" TEXT,
  "SpudDateSource" TEXT,
  "TestRate_MCFEPerDAYPer1000FT" TEXT,
  "FirstProdYear" TEXT,
  basin TEXT NOT NULL,
  geom GEOGRAPHY(Point, 4326)
);

CREATE OR REPLACE FUNCTION set_geom()
RETURNS TRIGGER AS $$
BEGIN
  IF NEW."Latitude" IS NOT NULL AND NEW."Longitude" IS NOT NULL THEN
    NEW.geom := ST_SetSRID(ST_MakePoint(NEW."Longitude", NEW."Latitude"), 4326);
  END IF;
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER wells_geom_trigger
BEFORE INSERT OR UPDATE ON wells
FOR EACH ROW EXECUTE PROCEDURE set_geom();

CREATE INDEX wells_geom_idx   ON wells USING GIST (geom);
CREATE INDEX wells_basin_idx  ON wells (basin);
